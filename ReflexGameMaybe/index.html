<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Important. Very Serious. Click Here.</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- <link
      href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Playfair+Display:wght@600&display=swap"
      rel="stylesheet"
    /> -->
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        user-select: none;
      }
      :root {
        /* Valentine: pink & red */
        --valentine-red: #c41e3a;
        --valentine-pink: #ec4899;
        --valentine-rose: #e11d48;
        --valentine-soft: #fce7f3;
        --valentine-deep: #9f1239;
        /* Her favorite */
        --her-blue: #2563eb;
        --her-blue-light: #60a5fa;
        --her-blue-soft: #dbeafe;
      }
      body {
        min-height: 100vh;
        font-family: "Fredoka", sans-serif;
        /* overflow: hidden; */
        transition: background 0.8s ease;
      }
      body.game-mode {
        background: linear-gradient(
          160deg,
          #1e0a14 0%,
          #2d0f1a 40%,
          #0f172a 100%
        );
      }
      body.valentine-mode {
        background: linear-gradient(
          165deg,
          #1e0a14 0%,
          #4c0519 25%,
          #831843 50%,
          #1e3a5f 80%,
          #0f172a 100%
        );
      }

      /* ========== GAME SCREEN ========== */
      #game-screen {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        position: relative;
      }
      #game-screen::before {
        content: "‚ô•";
        position: absolute;
        font-size: 8rem;
        opacity: 0.04;
        top: 10%;
        left: 5%;
        color: var(--valentine-pink);
      }
      #game-screen::after {
        content: "‚ô•";
        position: absolute;
        font-size: 6rem;
        opacity: 0.04;
        bottom: 15%;
        right: 8%;
        color: var(--her-blue);
      }
      #game-screen.hidden {
        display: none;
      }

      .game-title {
        font-family: "Playfair Display", serif;
        font-size: clamp(1.2rem, 4vw, 1.8rem);
        color: var(--valentine-soft);
        text-align: center;
        margin-bottom: 0.5rem;
        text-transform: uppercase;
        letter-spacing: 0.2em;
      }
      .game-subtitle {
        font-size: clamp(0.9rem, 2.5vw, 1.1rem);
        color: var(--her-blue-light);
        margin-bottom: 2rem;
      }
      .game-instructions {
        background: linear-gradient(
          145deg,
          rgba(236, 72, 153, 0.15),
          rgba(37, 99, 235, 0.1)
        );
        padding: 1rem 1.5rem;
        border-radius: 12px;
        color: #fbcfe8;
        border: 1px solid rgba(236, 72, 153, 0.3);
        margin-bottom: 2rem;
        max-width: 320px;
        text-align: center;
      }
      .score-display {
        font-size: 1.5rem;
        color: var(--valentine-pink);
        margin-bottom: 1rem;
      }
      #game-zone {
        width: min(90vw, 600px);
        height: 500px;
        background: linear-gradient(
          180deg,
          rgba(190, 24, 93, 0.2),
          rgba(30, 58, 95, 0.25)
        );
        border: 3px solid rgba(236, 72, 153, 0.5);
        border-radius: 16px;
        position: relative;
        overflow: hidden;
        box-shadow: 0 0 30px rgba(236, 72, 153, 0.2),
          inset 0 0 40px rgba(37, 99, 235, 0.08);
      }
      #target {
        position: absolute;
        width: 70px;
        height: 70px;
        font-size: 3rem;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        user-select: none;
        transition: transform 0.1s;
      }
      #target:hover {
        transform: scale(1.1);
      }
      #target:active {
        transform: scale(0.95);
      }

      /* ========== VALENTINE REVEAL ========== */
      #valentine-screen {
        min-height: 100vh;
        display: none;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        text-align: center;
        position: relative;
      }
      #valentine-screen::before {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(
            ellipse 80% 50% at 50% 0%,
            rgba(236, 72, 153, 0.15) 0%,
            transparent 50%
          ),
          radial-gradient(
            ellipse 60% 40% at 80% 100%,
            rgba(37, 99, 235, 0.12) 0%,
            transparent 50%
          );
        pointer-events: none;
      }
      #valentine-screen.visible {
        display: flex;
        animation: fadeIn 1s ease;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.95);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .reveal-badge {
        font-size: 1.25rem;
        color: var(--her-blue-light);
        text-transform: uppercase;
        letter-spacing: 0.3em;
        margin-bottom: 1rem;
        opacity: 0.95;
      }
      .valentine-headline {
        font-family: "Playfair Display", sans-serif;
        font-size: clamp(1.8rem, 6vw, 3rem);
        color: var(--valentine-soft);
        margin-bottom: 0.5rem;
        line-height: 1.2;
      }
      .valentine-headline .name {
        color: var(--her-blue-light);
      }
      .valentine-message {
        font-size: clamp(1rem, 3vw, 1.3rem);
        color: #fbcfe8;
        max-width: 420px;
        line-height: 1.6;
        margin: 1rem 0 1.5rem;
      }
      .invitation-box {
        background: linear-gradient(
          145deg,
          rgba(236, 72, 153, 0.25),
          rgba(37, 99, 235, 0.2)
        );
        border: 2px solid rgba(236, 72, 153, 0.5);
        border-radius: 20px;
        padding: 1.8rem 2rem;
        margin: 1rem 0;
        box-shadow: 0 0 40px rgba(236, 72, 153, 0.2),
          0 0 20px rgba(37, 99, 235, 0.15);
      }
      .invitation-box p {
        color: #fff;
        font-size: clamp(1.1rem, 3.5vw, 1.4rem);
        margin: 0.3rem 0;
      }
      .sign-off {
        margin-top: 2rem;
        font-size: 1.2rem;
        color: var(--valentine-soft);
      }
      .sign-off .his-name {
        color: var(--her-blue-light);
        font-weight: 600;
      }
      .for-her {
        font-size: 0.85rem;
        color: var(--her-blue-light);
        margin-top: 0.5rem;
        opacity: 0.9;
      }
      /* Fatima photo - polaroid-style with heart frame */
      .fatima-photo-wrap {
        margin-bottom: 1.5rem;
        position: relative;
        z-index: 1;
      }
      .fatima-photo {
        width: clamp(120px, 28vw, 250px);
        height: clamp(120px, 28vw, 250px);
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid var(--valentine-pink);
        box-shadow: 0 0 0 3px var(--her-blue-light),
          0 0 40px rgba(236, 72, 153, 0.4), 0 0 20px rgba(37, 99, 235, 0.3);
        animation: photoPop 0.8s ease 0.3s both;
      }
      .fatima-photo-caption {
        font-size: 1rem;
        color: var(--her-blue-light);
        margin-top: 0.5rem;
        letter-spacing: 0.15em;
        text-transform: uppercase;
      }
      @keyframes photoPop {
        from {
          opacity: 0;
          transform: scale(0.5);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
      #confetti {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        overflow: hidden;
        z-index: 1000;
      }
      .confetti-piece {
        position: absolute;
        will-change: transform;
      }
    </style>
  </head>
  <body class="game-mode">
    <div id="game-screen">
      <p class="game-title">Test Your Reflexes</p>
      <p class="game-subtitle">
        My bibi got good reflexes I bet <span class="monkey-peek">üôà</span>
      </p>
      <p class="game-instructions">
        Click the big potatoes <strong>15 times</strong> and watch them get
        bigger <span class="monkey-peek">üôà</span>.
      </p>
      <p class="score-display">
        <span id="score">0</span> / 15 potatoes bopped
        <span class="monkey-peek">üôà</span>
      </p>
      <div id="game-zone">
        <div id="target" title="Boop me!">ü•î</div>
      </div>
    </div>

    <div id="valentine-screen">
      <div id="confetti"></div>
      <div class="fatima-photo-wrap">
        <img src="Fatima izemzevo.jpg" alt="Fatima" class="fatima-photo" />
        <p class="fatima-photo-caption">‚òùÔ∏è Mehri Bibi ‚ù§Ô∏è</p>
      </div>
      <p class="reveal-badge">You did it my bibi! You passed!</p>
      <h1 class="valentine-headline">
        Now, <span class="name">will you</span> be my Valentine?
      </h1>
      <p class="valentine-message">(Surprise)</p>
      <div class="invitation-box">
        <p>
          Happy <strong>1 year, 4 months, and 9 days</strong> of putting up with
          me. üéâ
        </p>
        <!-- <p>Let's celebrate our anniversary.</p> -->
        <p>(P.S. Say yes. The potatoes approved you.)</p>
      </div>
      <p class="sign-off">
        With one year of love and many more to go,<br /><span class="his-name"
          >Mousa</span
        >
        üíï
      </p>
      <p class="for-her">
        (Pink & red for Valentine's ‚Äî and blue, because it's yours.)
      </p>
    </div>

    <script>
      const target = document.getElementById("target");
      const zone = document.getElementById("game-zone");
      const scoreEl = document.getElementById("score");
      const gameScreen = document.getElementById("game-screen");
      const valentineScreen = document.getElementById("valentine-screen");

      let score = 0;
      const needed = 15;
      const neededForPeek = 10;
      const zoneRect = () => zone.getBoundingClientRect();
      let fontSize = 3;
      function randomPosition() {
        const z = zoneRect();
        const padding = 16 * fontSize;
        const x = padding + Math.random() * (z.width - padding * 2);
        const y = padding + Math.random() * (z.height - padding * 2);
        target.style.left = x + "px";
        target.style.top = y + "px";
        target.style.fontSize = fontSize + "rem";
        fontSize += 0.75;
      }

      target.addEventListener("click", () => {
        score++;
        scoreEl.textContent = score;
        if (score == neededForPeek) {
          const peekMonkies = document.getElementsByClassName("monkey-peek");
          console.log(peekMonkies);
          for (let peekMonkey of peekMonkies) {
            console.log(peekMonkey);
            peekMonkey.innerHTML = "ü´£";
          }
        }
        if (score == needed - 1) {
          const peekMonkies = document.getElementsByClassName("monkey-peek");
          console.log(peekMonkies);
          for (let peekMonkey of peekMonkies) {
            console.log(peekMonkey);
            peekMonkey.innerHTML = "ü•≥";
          }
        }
        if (score >= needed) {
          document.body.classList.remove("game-mode");
          document.body.classList.add("valentine-mode");
          gameScreen.classList.add("hidden");
          valentineScreen.classList.add("visible");
          spawnConfetti();
          spawnConfetti(true);
        } else {
          randomPosition();
        }
      });

      function spawnConfetti(leftCorner = false) {
        const colors = [
          "#ec4899",
          "#c41e3a",
          "#e11d48",
          "#2563eb",
          "#60a5fa",
          "#fce7f3",
          "#fff",
        ];
        const container = document.getElementById("confetti");
        const centerX = leftCorner ? 0 : window.innerWidth / 2;
        const centerY = window.innerHeight / 2;
        const count = 240;
        const pieces = [];

        for (let i = 0; i < count; i++) {
          const el = document.createElement("div");
          el.className = "confetti-piece";
          const color = colors[Math.floor(Math.random() * colors.length)];
          const size = 6 + Math.random() * 8;
          const isRect = Math.random() > 0.5;
          el.style.width = size + "px";
          el.style.height = (isRect ? size * 0.6 : size) + "px";
          el.style.background = color;
          el.style.borderRadius = isRect ? "2px" : "50%";
          el.style.left = centerX + "px";
          el.style.top = centerY + "px";
          el.style.marginLeft = -size / 2 + "px";
          el.style.marginTop = -size / 2 + "px";
          container.appendChild(el);

          const angle = (Math.PI * 2 * i) / count + Math.random() * 0.5;
          const speed = 750 + Math.random() * 220;
          pieces.push({
            el,
            x: 0,
            y: 0,
            vx: Math.cos(angle) * speed,
            vy: Math.sin(angle) * speed - 80,
            rot: Math.random() * 360,
            rotSpeed: (Math.random() - 0.5) * 20,
            gravity: 420,
          });
        }

        let start = null;
        function step(t) {
          if (!start) start = t;
          const dt = (t - start) / 1000;
          start = t;
          let anyAlive = false;
          pieces.forEach((p) => {
            p.vx *= 0.99;
            p.vy += p.gravity * dt;
            p.x += p.vx * dt;
            p.y += p.vy * dt;
            p.rot += p.rotSpeed * dt;
            const px = centerX + p.x;
            const py = centerY + p.y;
            if (py < window.innerHeight + 50) anyAlive = true;
            p.el.style.transform = `translate(${px}px, ${py}px) rotate(${p.rot}deg)`;
          });
          if (anyAlive) requestAnimationFrame(step);
        }
        requestAnimationFrame(step);
      }

      randomPosition();
    </script>
  </body>
</html>
